@page "/SamplePages/InvoiceEdit/{InvoiceID:int}/{CustomerID:int}/{EmployeeID:int}"

@using ExampleMudWebApp.Components.Dialogues

<PageTitle>Invoice Edit</PageTitle>

<MudText Typo="Typo.h3">
    @(InvoiceID == 0? "New Invoice" : $"Invoice # : {InvoiceID}")
</MudText>

<MessageDisplay ErrorMessage="@errorMessage" ErrorMessages="@errorDetails" FeedbackMessage="@feedbackMessage" />

<MudGrid>
    <MudItem sm="12" md="6">
        <MudPaper Elevation="2" Class="pa-2" Height="145px">
            <MudStack>
                <MudText Typo="Typo.h6" Align="Align.Center">
                    <strong>Invoice Date : </strong>@invoice.InvoiceDate.ToShortDateString()
                </MudText>
                <MudText Typo="Typo.h6" Align="Align.Center">
                    <strong>Employee : </strong>@invoice.EmployeeName
                </MudText>
                <MudText Typo="Typo.h6" Align="Align.Center">
                    <strong>Customer : </strong>@invoice.CustomerName
                </MudText>
            </MudStack>
        </MudPaper>
    </MudItem>
    <MudItem sm="12" md="6">
        <MudPaper Elevation="2" Class="pa-2" Height="145px">
            <MudStack>
                <MudText Typo="Typo.h6" Align="Align.Center">
                    <strong>SubTotal : </strong>@invoice.Subtotal.ToString("C2")
                </MudText>
                <MudText Typo="Typo.h6" Align="Align.Center">
                    <strong>Tax : </strong>@invoice.Tax.ToString("C2")
                </MudText>
                <MudText Typo="Typo.h6" Align="Align.Center">
                    <strong>Total : </strong>@invoice.Total.ToString("C2")
                </MudText>
            </MudStack>
        </MudPaper>
    </MudItem>
</MudGrid>

<MudStack Row
Class="mt-2"
AlignItems="AlignItems.Center"
Justify="Justify.FlexStart"
Spacing="4">
    <MudSelect @bind-Value="categoryID" Variant="Variant.Outlined">
        @foreach(var category in partCategories)
        {
            <MudSelectItem T="int" Value="@category.LookupID">@category.Name</MudSelectItem>
        }
    </MudSelect>
    <MudTextField @bind-Value="description" Label="Decription" Variant="Variant.Outlined" Immediate />
    <MudButton Variant="Variant.Outlined" Color="Color.Secondary" OnClick="SearchParts">
        Search
    </MudButton>
</MudStack>